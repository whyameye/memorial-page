{% load i18n %}

{% if THEME == "clean-minimal" %}
<div class="text-center" style="background-color: #fafafa; border-top: 1px solid #e5e7eb; padding: 2rem 0; margin-top: 2rem; font-family: 'Inter', sans-serif; color: #6b7280;">
  <div class="container">
    {% if DONATION_TEXT %}
    <p style="font-size: 1rem; margin-bottom: 0.75rem;">{{ DONATION_TEXT|safe }}</p>
    {% endif %}
    <p style="font-size: 0.85rem; margin-bottom: 0;">{{ FOOTER_TEXT|safe }}
    {% if CONTACT_EMAIL_USER %}
    <br>{{ CONTACT_PROMPT }} <a href="#" class="email-link" data-u="{{ CONTACT_EMAIL_USER }}" data-d="{{ CONTACT_EMAIL_DOMAIN }}"></a>
    {% endif %}
    </p>
  </div>
</div>

{% elif THEME == "warm-elegant" %}
<div class="text-center" style="background: linear-gradient(0deg, #f5f0eb 0%, #faf8f5 100%); border-top: 1px solid #e8e2db; padding: 2rem 0; margin-top: 2rem; font-family: 'Source Sans 3', sans-serif; color: #9a8f88;">
  <div class="container">
    {% if DONATION_TEXT %}
    <p style="font-size: 1rem; margin-bottom: 0.75rem;">{{ DONATION_TEXT|safe }}</p>
    {% endif %}
    <p style="font-size: 0.85rem; margin-bottom: 0;">{{ FOOTER_TEXT|safe }}
    {% if CONTACT_EMAIL_USER %}
    <br>{{ CONTACT_PROMPT }} <a href="#" class="email-link" data-u="{{ CONTACT_EMAIL_USER }}" data-d="{{ CONTACT_EMAIL_DOMAIN }}"></a>
    {% endif %}
    </p>
  </div>
</div>

{% else %}
<div class="container mt-2 mb-4">
  <div class="card text-center" style="padding: 1.5rem; color: #6c757d;">
    {% if DONATION_TEXT %}
    <p style="font-size: 1rem; margin-bottom: 0.75rem;">{{ DONATION_TEXT|safe }}</p>
    {% endif %}
    <p style="font-size: 0.85rem; margin-bottom: 0;">{{ FOOTER_TEXT|safe }}
    {% if CONTACT_EMAIL_USER %}
    <br>{{ CONTACT_PROMPT }} <a href="#" class="email-link" data-u="{{ CONTACT_EMAIL_USER }}" data-d="{{ CONTACT_EMAIL_DOMAIN }}"></a>
    {% endif %}
    </p>
  </div>
</div>
{% endif %}

{% if CONTACT_EMAIL_USER %}
<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('a.email-link[data-u]').forEach(function(el) {
    var addr = el.dataset.u + '@' + el.dataset.d;
    el.href = 'mail' + 'to:' + addr;
    el.textContent = addr;
  });
});
</script>
{% endif %}
