<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}{{ SITE_TITLE|default:"Memorial Page" }}{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    {% if THEME == "clean-minimal" %}
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    {% elif THEME == "warm-elegant" %}
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600&family=Source+Sans+3:wght@300;400;500&display=swap" rel="stylesheet">
    {% endif %}
    {% load static %}
    <style>
        {% if THEME == "clean-minimal" %}
        /* Clean Minimal Theme */
        body {
            background-color: #ffffff;
            font-family: 'Inter', sans-serif;
            color: #374151;
            {% if BACKGROUND_IMAGE %}
            background-image: url('{% static BACKGROUND_IMAGE %}');
            background-attachment: fixed;
            background-size: cover;
            background-position: center;
            {% endif %}
        }
        h1, h2, h3, h4 { font-weight: 300; letter-spacing: -0.02em; }
        .card {
            border: none;
            box-shadow: 0 1px 3px rgba(0,0,0,0.04);
            border-radius: 0;
        }
        .header-section {
            background-color: #fafafa;
            border-bottom: 1px solid #e5e7eb;
            padding: 4rem 0;
        }
        .header-section h1 {
            font-size: 2.5rem;
            font-weight: 300;
            color: #111827;
        }
        .header-section h1 a { color: inherit; text-decoration: none; }
        .header-section .subtitle {
            color: #6b7280;
            font-weight: 400;
            font-size: 1.1rem;
        }
        .header-section .description { color: #9ca3af; }
        .header-section img {
            border-radius: 50%;
            border: 3px solid #e5e7eb;
        }
        .btn-primary {
            background-color: #111827;
            border: none;
            border-radius: 0;
            padding: 0.75rem 1.5rem;
            font-weight: 500;
        }
        .btn-primary:hover { background-color: #374151; }
        .submission .card {
            margin-bottom: 3rem;
            padding: 2rem;
        }
        .submission .text {
            font-size: 1.1rem;
            line-height: 1.8;
        }
        .submission .text p.text-muted {
            font-size: 0.9rem;
            margin-top: 1.5rem;
        }
        .divider {
            color: #e5e7eb;
            margin: 3rem 0;
            font-size: 0.5rem;
        }

        {% elif THEME == "warm-elegant" %}
        /* Warm Elegant Theme */
        body {
            background-color: #faf8f5;
            font-family: 'Source Sans 3', sans-serif;
            color: #4a4543;
            {% if BACKGROUND_IMAGE %}
            background-image: url('{% static BACKGROUND_IMAGE %}');
            background-attachment: fixed;
            background-size: cover;
            background-position: center;
            {% endif %}
        }
        h1, h2, h3 {
            font-family: 'Playfair Display', serif;
            font-weight: 500;
            color: #2c2825;
        }
        h4, h5, h6 { font-family: 'Source Sans 3', sans-serif; }
        .card {
            border: none;
            background-color: #ffffff;
            box-shadow: 0 2px 12px rgba(74,69,67,0.06);
            border-radius: 8px;
        }
        .header-section {
            background: linear-gradient(180deg, #f5f0eb 0%, #faf8f5 100%);
            padding: 4rem 0 3rem;
            border-bottom: 1px solid #e8e2db;
        }
        .header-section h1 {
            font-size: 2.75rem;
            letter-spacing: 0.01em;
        }
        .header-section h1 a {
            color: #2c2825;
            text-decoration: none;
            transition: color 0.2s ease;
        }
        .header-section h1 a:hover { color: #6b5d52; }
        .header-section .subtitle {
            font-family: 'Playfair Display', serif;
            font-style: italic;
            color: #7a6f68;
            font-size: 1.2rem;
        }
        .header-section .description {
            color: #9a8f88;
            font-size: 1rem;
        }
        .header-section img {
            border-radius: 50%;
            border: 4px solid #ffffff;
            box-shadow: 0 4px 20px rgba(74,69,67,0.12);
        }
        .btn-primary {
            background-color: #6b5d52;
            border: none;
            border-radius: 30px;
            padding: 0.75rem 2rem;
            font-weight: 500;
            transition: all 0.2s ease;
        }
        .btn-primary:hover {
            background-color: #5a4d43;
            transform: translateY(-1px);
        }
        .submission .card {
            margin-bottom: 2.5rem;
            padding: 2rem;
        }
        .submission .text {
            font-size: 1.1rem;
            line-height: 1.9;
        }
        .submission .text p.text-muted {
            font-family: 'Playfair Display', serif;
            font-style: italic;
            color: #9a8f88 !important;
        }
        .divider {
            color: #d9d2ca;
            margin: 2.5rem 0;
        }
        a { color: #6b5d52; transition: color 0.2s ease; }
        a:hover { color: #4a4543; }

        {% else %}
        /* Default Theme */
        body {
            background-color: #f8f9fa;
            {% if BACKGROUND_IMAGE %}
            background-image: url('{% static BACKGROUND_IMAGE %}');
            background-attachment: fixed;
            background-size: cover;
            background-position: center;
            {% endif %}
        }
        .card { border: none; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        .header-card { background: linear-gradient(135deg, {{ HEADER_GRADIENT_START|default:"#667eea" }} 0%, {{ HEADER_GRADIENT_END|default:"#764ba2" }} 100%); color: white; }
        .header-card a { color: white; text-decoration: none; }
        .header-card h1 a:hover { opacity: 0.9; }
        .btn-primary { background: linear-gradient(135deg, {{ HEADER_GRADIENT_START|default:"#667eea" }} 0%, {{ HEADER_GRADIENT_END|default:"#764ba2" }} 100%); border: none; }
        .btn-primary:hover { opacity: 0.9; }
        .submission .card { margin-bottom: 2rem; }
        .divider { color: #dee2e6; margin: 2rem 0; }
        {% endif %}
    </style>
    {% block styles %}{% endblock %}
    {% block extra_head_base %}{% endblock %}
</head>
<body>
    {% block topbar_base %}{% endblock %}

    <div class="container py-4">
        {% block body %}{% endblock %}
    </div>

    {% block footer %}{% endblock %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    {% block scripts %}{% endblock %}
</body>
</html>
